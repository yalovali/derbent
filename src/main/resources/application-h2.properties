# H2 Profile - Simple in-memory database for testing
# Usage: mvn spring-boot:run -Dspring-boot.run.profiles=h2

# H2 Database Configuration - In-memory database
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driver-class-name=org.h2.Driver

# Hibernate Configuration - Recreate schema on each run
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
spring.sql.init.mode=never

# Enable H2 Console for debugging
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# Logging Configuration - Minimal for fast startup
logging.level.root=INFO
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN
logging.level.tech.derbent=INFO

# Vaadin Configuration
vaadin.launch-browser=false
vaadin.devserver.enabled=false
vaadin.push.mode=disabled

# Disable Atmosphere to prevent JSR356 issues
atmosphere.interceptors.disabled=true
atmosphere.shareableThreadPool=false
atmosphere.useNativeImplementation=false
org.atmosphere.container.autoDetectHandler=false
atmosphere.transport=long-polling
